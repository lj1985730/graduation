-- 初始化脚本 - 下拉框字典
DELETE FROM SYS_DIC_SQL;
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'dic_dept', 'dic_dept', 'SELECT DIC_NAME AS DICVALUE, DIC_NAME AS DICTEXT FROM SYS_DIC WHERE TYPE = \'DEPARTMENT_TYPE\' AND IS_DEL = \'0\' AND COMPANY_ID = \'<COMPANY_ID>\'', '1', null, 'ORDER BY ORDER_ID', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'user', 'user', 'SELECT U.USER_ID AS DICVALUE, P.USER_CNAME AS DICTEXT FROM SYS_USER U,  SYS_PERSON P WHERE U.IS_DEL = \'0\' AND P.IS_DEL = \'0\' AND U.PERSON_ID = P.PERSON_ID AND U.COMPANY_ID = \'<COMPANY_ID>\' AND P.COMPANY_ID = \'<COMPANY_ID>\'', '1', null, 'ORDER BY P.USER_CNAME', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'role', 'role', 'SELECT ROLE_ID AS DICVALUE, ROLE_NAME AS DICTEXT FROM SYS_ROLE WHERE IS_DEL = \'0\' AND COMPANY_ID = \'<COMPANY_ID>\'', '1', null, 'ORDER BY ROLE_NAME', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'user_dept', 'user_dept', 'SELECT U.USER_ID AS DICVALUE, P.USER_CNAME AS DICTEXT FROM SYS_USER U, SYS_PERSON_DEPARTMENT D, SYS_PERSON P WHERE U.IS_DEL = \'0\' AND D.IS_DEL = \'0\' AND P.IS_DEL = \'0\' AND U.PERSON_ID = P.PERSON_ID AND P.PERSON_ID = D.PERSON_ID AND U. AND U.COMPANY_ID = \'<COMPANY_ID>\' AND P. AND U.COMPANY_ID = \'<COMPANY_ID>\' AND D. AND U.COMPANY_ID = \'<COMPANY_ID>\'', '1', 'AND D.DEPARTMENT_ID = \'<PARAM>\'', 'ORDER BY P.USER_CNAME', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'person_sys', 'person_sys', 'SELECT PERSON_ID AS DICVALUE,USER_CNAME AS DICTEXT FROM SYS_PERSON WHERE PERSON_ID NOT IN (SELECT PERSON_ID FROM SYS_USER WHERE IS_DEL = \'0\') AND IS_DEL = \'0\' AND COMPANY_ID = \'<COMPANY_ID>\'', '1', null, null, null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'department', 'department', 'SELECT DEPARTMENT_ID AS DICVALUE, DEPARTMENT_CNAME AS DICTEXT FROM SYS_DEPARTMENT WHERE IS_USED = \'1\' AND IS_DEL = \'0\' AND COMPANY_ID = \'<COMPANY_ID>\'', '1', 'AND IS_LAND = \'<param>\'', 'ORDER BY DEPARTMENT_CNAME', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'post', 'post', 'SELECT POST_ID AS DICVALUE, POST_NAME AS DICTEXT FROM SYS_POST DIC WHERE IS_DEL = \'0\' AND COMPANY_ID = \'<COMPANY_ID>\'', '1', 'AND POST_TYPE = \'<param>\'', 'ORDER BY POST_CODE', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'post_dept', 'post_dept', 'SELECT p.POST_ID AS DICVALUE,p.POST_NAME AS DICTEXT FROM sys_post p LEFT JOIN sys_department_post dp ON  p.POST_ID = dp.POST_ID WHERE p.IS_DEL =\'0\' AND dp.IS_DEL =\'0\' AND p.COMPANY_ID = \'<COMPANY_ID>\' ', '1', 'AND dp.DEPARTMENT_ID = \'<param>\'', 'ORDER BY p.POST_CODE', null, null, null, '0', '2017-01-01 00:00:00');
INSERT INTO SYS_DIC_SQL VALUES (UPPER(UUID()), 'all_depart', 'all_depart', 'SELECT department_id AS DICVALUE,department_cname AS DICTEXT FROM (SELECT department_id,department_cname,IS_LAND,COMPANY_ID FROM sys_department where IS_USED=\'1\' and IS_DEL=\'0\' and department_level=\'1\' and  department_id not in (SELECT parent_id FROM sys_department where department_level=\'2\') union all SELECT department_id,department_cname,IS_LAND,COMPANY_ID FROM sys_department where IS_USED=\'1\' and IS_DEL=\'0\' and department_level=\'2\') b WHERE COMPANY_ID = \'<COMPANY_ID>\' ', '1', 'AND IS_LAND = \'<param>\'', 'order by department_cname', null, null, null, '0', '2017-01-01 00:00:00');